# ðŸ“‹ **Ð¢Ð•Ð¥ÐÐ˜Ð§Ð•Ð¡ÐšÐžÐ• Ð—ÐÐ”ÐÐÐ˜Ð•**
## Ð’ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ "Ð­Ð»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð°Ñ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ°"

---

## ðŸŽ¯ **1. ÐžÐ‘Ð©Ð•Ð• ÐžÐŸÐ˜Ð¡ÐÐÐ˜Ð• ÐŸÐ ÐžÐ•ÐšÐ¢Ð**

### **Ð¦ÐµÐ»ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:**
Ð¡Ð¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð²ÐµÐ±-Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ñ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ð¾Ð¹ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸ Ñ ÑƒÐ´Ð¾Ð±Ð½Ð¾Ð¹ Ñ‡Ð¸Ñ‚Ð°Ð»ÐºÐ¾Ð¹ FB2 Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð¸ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒÑŽ Ð¸Ñ… ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ñ.

### **Ð¦ÐµÐ»ÐµÐ²Ð°Ñ Ð°ÑƒÐ´Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ:**
Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ñ‹Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸, Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÑƒÑŽÑ‰Ð¸ÐµÑÑ Ñ‡Ñ‚ÐµÐ½Ð¸ÐµÐ¼ ÑÐ»ÐµÐºÑ‚Ñ€Ð¾Ð½Ð½Ñ‹Ñ… ÐºÐ½Ð¸Ð³.

---

## ðŸ›  **2. Ð¢Ð•Ð¥ÐÐžÐ›ÐžÐ“Ð˜Ð§Ð•Ð¡ÐšÐ˜Ð™ Ð¡Ð¢Ð•Ðš**

| ÐšÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚ | Ð¢ÐµÑ…Ð½Ð¾Ð»Ð¾Ð³Ð¸Ñ |
|-----------|------------|
| **Frontend** | Next.js (TypeScript/TSX) |
| **Ð¡Ñ‚Ð¸Ð»Ð¸** | Tailwind CSS |
| **UI ÐºÐ¾Ð¼Ð¿Ð¾Ð½ÐµÐ½Ñ‚Ñ‹** | shadcn/ui |
| **Backend** | Supabase |
| **ÐÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ** | Supabase Auth |
| **Ð‘Ð°Ð·Ð° Ð´Ð°Ð½Ð½Ñ‹Ñ…** | Supabase PostgreSQL |
| **Ð¤Ð°Ð¹Ð»Ð¾Ð²Ð¾Ðµ Ñ…Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ** | Supabase Storage |
| **Ð¥Ð¾ÑÑ‚Ð¸Ð½Ð³** | Vercel |
| **ÐŸÐ°ÐºÐµÑ‚Ð½Ñ‹Ð¹ Ð¼ÐµÐ½ÐµÐ´Ð¶ÐµÑ€** | pnpm |

---

## âš™ï¸ **3. Ð¤Ð£ÐÐšÐ¦Ð˜ÐžÐÐÐ›Ð¬ÐÐ«Ð• Ð¢Ð Ð•Ð‘ÐžÐ’ÐÐÐ˜Ð¯**

### **3.1 Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ð¸**
- âœ… ÐžÐ±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ (Ð³Ð¾ÑÑ‚ÐµÐ²Ð¾Ð¹ Ð´Ð¾ÑÑ‚ÑƒÐ¿ Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½)
- âœ… Ð Ð¾Ð»Ð¸: Ð§Ð¸Ñ‚Ð°Ñ‚ÐµÐ»Ð¸ Ð¸ ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ñ‹
- âœ… Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ðº ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ñƒ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ñ€Ð¸Ð·Ð¾Ð²Ð°Ð½Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹

### **3.2 Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ½Ð¸Ð³Ð°Ð¼Ð¸**
- âœ… ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ð°: **Ñ‚Ð¾Ð»ÑŒÐºÐ¾ FB2**
- âœ… ÐœÐ°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ñ€Ð°Ð·Ð¼ÐµÑ€ Ñ„Ð°Ð¹Ð»Ð°: **10 ÐœÐ‘**
- âœ… ÐžÐ±Ñ‰Ð¸Ð¹ Ð¾Ð±ÑŠÐµÐ¼ Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐ¸: **Ð´Ð¾ 1000 ÐºÐ½Ð¸Ð³**
- âœ… Ð¥Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ñ„Ð°Ð¹Ð»Ð¾Ð² Ð² Supabase Storage

### **3.3 ÐŸÐ¾Ð¸ÑÐº Ð¸ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ**
- âœ… ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð°Ð²Ñ‚Ð¾Ñ€Ñƒ
- âœ… ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð¶Ð°Ð½Ñ€Ñƒ
- âœ… ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ð³Ð¾Ð´Ñƒ Ð¸Ð·Ð´Ð°Ð½Ð¸Ñ
- âœ… ÐŸÐ¾Ð¸ÑÐº Ð¿Ð¾ Ñ‚ÐµÐ³Ð°Ð¼
- âœ… ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð½Ð° Ð¾ÑÐ½Ð¾Ð²Ðµ Ñ‚ÐµÐ³Ð¾Ð²

### **3.4 Ð§Ð¸Ñ‚Ð°Ð»ÐºÐ° FB2**
- âœ… Ð’ÑÑ‚Ñ€Ð¾ÐµÐ½Ð½Ð°Ñ Ñ‡Ð¸Ñ‚Ð°Ð»ÐºÐ° Ð´Ð»Ñ FB2 Ñ„Ð°Ð¹Ð»Ð¾Ð²
- âœ… Ð—Ð°ÐºÐ»Ð°Ð´ÐºÐ¸
- âœ… Ð—Ð°Ð¼ÐµÑ‚ÐºÐ¸
- âœ… Ð˜ÑÑ‚Ð¾Ñ€Ð¸Ñ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ
- âœ… Ð˜Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ

### **3.5 Ð”Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸**
- âœ… Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¹
- âœ… Ð ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð¸ ÐºÐ½Ð¸Ð³ (1-10, Ð¸Ð· Ð¸ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ°)
- âœ… ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ Ð¾Ñ†ÐµÐ½ÐºÐ¸
- âœ… Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ ÑÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð²

---

## ðŸ”— **4. Ð˜ÐÐ¢Ð•Ð“Ð ÐÐ¦Ð˜Ð¯ Ð¡ TELEGRAM**

### **4.1 Ð˜ÑÑ‚Ð¾Ñ‡Ð½Ð¸ÐºÐ¸ Ð´Ð°Ð½Ð½Ñ‹Ñ…**
- **ÐšÐ°Ð½Ð°Ð» â„–1:** ÐœÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ðµ (Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ðµ, Ð¾Ð±Ð»Ð¾Ð¶ÐºÐ¸, Ñ‚ÐµÐ³Ð¸, Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð¸)
- **ÐšÐ°Ð½Ð°Ð» â„–2:** ZIP-Ð°Ñ€Ñ…Ð¸Ð²Ñ‹ Ñ FB2 Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸

### **4.2 Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¸Ð· Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ ÐºÐ°Ð½Ð°Ð»Ð°:**
```
Ð¤Ð°Ð½Ñ‚Ð°ÑÑ‚Ð¸ÐºÐ° Ð¸ Ñ„ÑÐ½Ñ‚ÐµÐ·Ð¸. ÐŸÐ¾Ð´Ð±Ð¾Ñ€ÐºÐ¸
ÐÐ²Ñ‚Ð¾Ñ€: ÐœÐ°Ñ€ÐºÑƒÑ Ð¡ÑÐ¹ÐºÐ¸
ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ: Ñ†Ð¸ÐºÐ» ÐžÐ´Ð°Ñ€ÐµÐ½Ð½Ñ‹Ðµ
Ð–Ð°Ð½Ñ€: #Ñ„Ð°Ð½Ñ‚Ð°ÑÑ‚Ð¸ÐºÐ°, #ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ, #Ð¿Ñ€Ð¸ÐºÐ»ÑŽÑ‡ÐµÐ½Ñ‡ÐµÑÐºÐ¾Ðµ, #ÑÐ¼Ð½Ð¾Ð¶ÐµÑÑ‚Ð²ÐµÐ½Ð½Ñ‹Ð¼Ð³Ñ‚, #Ð·Ð°ÐºÐ¾Ð½Ñ‡ÐµÐ½ÑÐµÑ€Ð¸Ñ
Ð ÐµÐ¹Ñ‚Ð¸Ð½Ð³: 7,40 #Ð²Ñ‹ÑˆÐµ7
ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ: [ÐŸÐ¾Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ ÐºÐ½Ð¸Ð³Ð¸/ÑÐµÑ€Ð¸Ð¸]
Ð¡Ð¾ÑÑ‚Ð°Ð²:
1. Ð—ÐµÐ¼Ð»Ñ ÐžÐ±ÐµÑ‚Ð¾Ð²Ð°Ð½Ð½Ð°Ñ (2013)
2. Ð›ÑƒÑ‡ÑˆÐ¸Ð¹ Ð¼Ð¸Ñ€ (2014)
3. ÐžÐ³Ð½ÐµÐ½Ð½Ñ‹Ðµ Ð¿Ð¸ÑÑŒÐ¼ÐµÐ½Ð° (2016)
[Ð˜Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð¾Ð±Ð»Ð¾Ð¶ÐµÐº ÐºÐ½Ð¸Ð³ ÑÐµÑ€Ð¸Ð¸]
```

### **4.3 Ð¡Ñ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð° Ð¸Ð·Ð²Ð»ÐµÐºÐ°ÐµÐ¼Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…:**
- âœ… **ÐÐ²Ñ‚Ð¾Ñ€:** Ð¸Ð· ÑÑ‚Ñ€Ð¾ÐºÐ¸ "ÐÐ²Ñ‚Ð¾Ñ€: ..."
- âœ… **ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ:** Ð¸Ð· ÑÑ‚Ñ€Ð¾ÐºÐ¸ "ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ: ..."
- âœ… **Ð–Ð°Ð½Ñ€Ñ‹/Ñ‚ÐµÐ³Ð¸:** Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³ Ñ…ÐµÑˆÑ‚ÐµÐ³Ð¾Ð² (#Ñ„Ð°Ð½Ñ‚Ð°ÑÑ‚Ð¸ÐºÐ°, #ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ, Ð¸ Ñ‚.Ð´.)
- âœ… **Ð ÐµÐ¹Ñ‚Ð¸Ð½Ð³:** Ð¸Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ Ñ‡Ð¸ÑÐ»Ð¾Ð²Ð¾Ð³Ð¾ Ð·Ð½Ð°Ñ‡ÐµÐ½Ð¸Ñ (Ð½Ð°Ð¿Ñ€Ð¸Ð¼ÐµÑ€, 7,40)
- âœ… **ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ:** Ð¿Ð¾Ð»Ð½Ñ‹Ð¹ Ñ‚ÐµÐºÑÑ‚ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ
- âœ… **Ð¡Ð¾ÑÑ‚Ð°Ð² ÑÐµÑ€Ð¸Ð¸:** ÑÐ¿Ð¸ÑÐ¾Ðº ÐºÐ½Ð¸Ð³ Ñ Ð³Ð¾Ð´Ð°Ð¼Ð¸ Ð¸Ð·Ð´Ð°Ð½Ð¸Ñ
- âœ… **ÐžÐ±Ð»Ð¾Ð¶ÐºÐ¸:** Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ñ Ð´Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð¹ ÐºÐ½Ð¸Ð³Ð¸

### **4.4 Ð¡Ð¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ**
- âœ… Ð§Ð°ÑÑ‚Ð¾Ñ‚Ð°: **ÐµÐ¶ÐµÐ´Ð½ÐµÐ²Ð½Ð¾**
- âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ Ð¾Ð±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð½Ð¾Ð²Ñ‹Ñ… Ð¿Ð¾ÑÑ‚Ð¾Ð²
- âš ï¸ **Ð¢Ñ€ÐµÐ±ÑƒÐµÑ‚ Ð¾Ð±ÑÑƒÐ¶Ð´ÐµÐ½Ð¸Ñ:** Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ð½Ð¸Ðµ Telegram Bot API Ð¸Ð»Ð¸ Ð¿Ð°Ñ€ÑÐ¸Ð½Ð³

### **4.5 ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° Ð´Ð°Ð½Ð½Ñ‹Ñ…**
- âœ… ÐŸÐ°Ñ€ÑÐ¸Ð½Ð³ ÑÑ‚Ñ€ÑƒÐºÑ‚ÑƒÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð½Ð¾Ð³Ð¾ Ñ‚ÐµÐºÑÑ‚Ð° Ð¿Ð¾ÑÑ‚Ð¾Ð²
- âœ… Ð˜Ð·Ð²Ð»ÐµÑ‡ÐµÐ½Ð¸Ðµ Ð¸ ÑÐ¾Ñ…Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ð¹ Ð¾Ð±Ð»Ð¾Ð¶ÐµÐº
- âœ… Ð¡ÐºÐ°Ñ‡Ð¸Ð²Ð°Ð½Ð¸Ðµ Ð¸ Ñ€Ð°ÑÐ¿Ð°ÐºÐ¾Ð²ÐºÐ° ZIP-Ð°Ñ€Ñ…Ð¸Ð²Ð¾Ð² Ð¸Ð· Ð²Ñ‚Ð¾Ñ€Ð¾Ð³Ð¾ ÐºÐ°Ð½Ð°Ð»Ð°
- âœ… Ð¡Ð¾Ð¿Ð¾ÑÑ‚Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ… Ñ Ñ„Ð°Ð¹Ð»Ð°Ð¼Ð¸ Ð¿Ð¾ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸ÑŽ/Ð°Ð²Ñ‚Ð¾Ñ€Ñƒ
- âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ðµ Ð·Ð°Ð¿Ð¸ÑÐµÐ¹ Ð² Ð±Ð°Ð·Ðµ Ð´Ð°Ð½Ð½Ñ‹Ñ…

---

## ðŸŽ¨ **5. UI/UX Ð¢Ð Ð•Ð‘ÐžÐ’ÐÐÐ˜Ð¯**

### **5.1 Ð”Ð¸Ð·Ð°Ð¹Ð½**
- âœ… ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»Ð¸ÑÑ‚Ð¸Ñ‡Ð½Ñ‹Ð¹ ÑÑ‚Ð¸Ð»ÑŒ Ð² Ð´ÑƒÑ…Ðµ shadcn/ui
- âœ… ÐŸÐ¾Ð´Ð´ÐµÑ€Ð¶ÐºÐ° Ñ‚ÐµÐ¼Ð½Ð¾Ð¹ Ð¸ ÑÐ²ÐµÑ‚Ð»Ð¾Ð¹ Ñ‚ÐµÐ¼Ñ‹
- âœ… ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð´Ð¸Ð·Ð°Ð¹Ð½ (Ñ€Ð°Ð²Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚ Ð¼Ð¾Ð±Ð¸Ð»ÑŒÐ½Ñ‹Ñ… Ð¸ Ð´ÐµÑÐºÑ‚Ð¾Ð¿Ð½Ñ‹Ñ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²)

### **5.2 Ð›Ð¾ÐºÐ°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ**
- âœ… Ð˜Ð½Ñ‚ÐµÑ€Ñ„ÐµÐ¹Ñ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ
- âœ… ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹ Ð´Ð»Ñ Ð±ÑƒÐ´ÑƒÑ‰ÐµÐ¹ Ð¼ÑƒÐ»ÑŒÑ‚Ð¸ÑÐ·Ñ‹Ñ‡Ð½Ð¾ÑÑ‚Ð¸

---

## ðŸ“Š **6. Ð¢Ð•Ð¥ÐÐ˜Ð§Ð•Ð¡ÐšÐ˜Ð• ÐžÐ“Ð ÐÐÐ˜Ð§Ð•ÐÐ˜Ð¯**

### **6.1 ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ**
- âœ… ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼ **100 Ð¾Ð´Ð½Ð¾Ð²Ñ€ÐµÐ¼ÐµÐ½Ð½Ñ‹Ñ… Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÐµÐ¹**
- âœ… ÐœÐ°ÐºÑÐ¸Ð¼ÑƒÐ¼ **1000 ÐºÐ½Ð¸Ð³** Ð² Ð±Ð¸Ð±Ð»Ð¸Ð¾Ñ‚ÐµÐºÐµ
- âœ… Ð Ð°Ð·Ð¼ÐµÑ€ Ñ„Ð°Ð¹Ð»Ð° ÐºÐ½Ð¸Ð³Ð¸: **Ð´Ð¾ 10 ÐœÐ‘**

### **6.2 Ð¥Ñ€Ð°Ð½Ð¸Ð»Ð¸Ñ‰Ðµ**
- âœ… ÐžÐ±Ñ‰Ð¸Ð¹ Ð¾Ð±ÑŠÐµÐ¼: **Ð´Ð¾ 10 Ð“Ð‘** (1000 ÐºÐ½Ð¸Ð³ Ã— 10 ÐœÐ‘)
- âœ… Supabase Storage Ð´Ð»Ñ Ñ„Ð°Ð¹Ð»Ð¾Ð²
- âœ… PostgreSQL Ð´Ð»Ñ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ñ…

---

## ðŸ—„ï¸ **7. Ð¡Ð¢Ð Ð£ÐšÐ¢Ð£Ð Ð Ð‘ÐÐ—Ð« Ð”ÐÐÐÐ«Ð¥**

### **7.1 ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ñ‚Ð°Ð±Ð»Ð¸Ñ†Ñ‹:**
```sql
-- ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ð¸ (ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÐµÑ‚ÑÑ Supabase Auth)
users (
  id UUID PRIMARY KEY,
  email VARCHAR(255),
  role VARCHAR(50) DEFAULT 'reader', -- 'reader' Ð¸Ð»Ð¸ 'admin'
  created_at TIMESTAMP,
  updated_at TIMESTAMP
)

-- Ð¡ÐµÑ€Ð¸Ð¸ ÐºÐ½Ð¸Ð³
series (
  id UUID PRIMARY KEY,
  title VARCHAR(500), -- Ð½Ð°Ð¿Ñ€. "Ñ†Ð¸ÐºÐ» ÐžÐ´Ð°Ñ€ÐµÐ½Ð½Ñ‹Ðµ"
  author VARCHAR(255), -- ÐœÐ°Ñ€ÐºÑƒÑ Ð¡ÑÐ¹ÐºÐ¸
  description TEXT,
  rating DECIMAL(3,2), -- 7.40
  cover_url VARCHAR(500),
  telegram_post_id VARCHAR(100), -- Ð´Ð»Ñ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ Ð¾Ð±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ð¹
  tags TEXT[], -- Ð¼Ð°ÑÑÐ¸Ð² Ñ‚ÐµÐ³Ð¾Ð²
  genres TEXT[], -- Ñ„Ð°Ð½Ñ‚Ð°ÑÑ‚Ð¸ÐºÐ°, ÑÐ¾Ñ†Ð¸Ð°Ð»ÑŒÐ½Ð°Ñ, Ð¸ Ñ‚.Ð´.
  created_at TIMESTAMP,
  updated_at TIMESTAMP
)

-- ÐšÐ½Ð¸Ð³Ð¸
books (
  id UUID PRIMARY KEY,
  series_id UUID REFERENCES series(id),
  title VARCHAR(500), -- "Ð—ÐµÐ¼Ð»Ñ ÐžÐ±ÐµÑ‚Ð¾Ð²Ð°Ð½Ð½Ð°Ñ"
  author VARCHAR(255),
  publication_year INTEGER, -- 2013
  description TEXT,
  cover_url VARCHAR(500),
  file_url VARCHAR(500), -- ÑÑÑ‹Ð»ÐºÐ° Ð½Ð° Supabase Storage
  file_size BIGINT, -- Ð² Ð±Ð°Ð¹Ñ‚Ð°Ñ…
  file_format VARCHAR(10) DEFAULT 'fb2',
  rating DECIMAL(3,2), -- Ð¼Ð¾Ð¶ÐµÑ‚ Ð¾Ñ‚Ð»Ð¸Ñ‡Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð° ÑÐµÑ€Ð¸Ð¸
  tags TEXT[],
  genres TEXT[],
  series_order INTEGER, -- Ð¿Ð¾Ñ€ÑÐ´Ð¾Ðº Ð² ÑÐµÑ€Ð¸Ð¸ (1, 2, 3...)
  telegram_file_id VARCHAR(100), -- Ð´Ð»Ñ ÑÐ²ÑÐ·Ð¸ Ñ Telegram
  created_at TIMESTAMP,
  updated_at TIMESTAMP
)

-- ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
user_books (
  user_id UUID REFERENCES users(id),
  book_id UUID REFERENCES books(id),
  is_favorite BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP,
  PRIMARY KEY (user_id, book_id)
)

user_series (
  user_id UUID REFERENCES users(id),
  series_id UUID REFERENCES series(id),
  is_favorite BOOLEAN DEFAULT FALSE,
  created_at TIMESTAMP,
  PRIMARY KEY (user_id, series_id)
)

user_bookmarks (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  book_id UUID REFERENCES books(id),
  position INTEGER, -- Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ Ð² Ñ‚ÐµÐºÑÑ‚Ðµ
  chapter VARCHAR(255), -- Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð³Ð»Ð°Ð²Ñ‹
  note TEXT, -- Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ°Ñ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ°
  created_at TIMESTAMP
)

user_ratings (
  user_id UUID REFERENCES users(id),
  book_id UUID REFERENCES books(id),
  rating INTEGER CHECK (rating >= 1 AND rating <= 10),
  review TEXT, -- Ð¾Ð¿Ñ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð¾Ñ‚Ð·Ñ‹Ð²
  created_at TIMESTAMP,
  updated_at TIMESTAMP,
  PRIMARY KEY (user_id, book_id)
)

reading_history (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  book_id UUID REFERENCES books(id),
  last_position INTEGER, -- Ð¿Ð¾ÑÐ»ÐµÐ´Ð½ÑÑ Ð¿Ð¾Ð·Ð¸Ñ†Ð¸Ñ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ
  reading_progress DECIMAL(5,2), -- Ð¿Ñ€Ð¾Ñ†ÐµÐ½Ñ‚ Ð¿Ñ€Ð¾Ñ‡Ð¸Ñ‚Ð°Ð½Ð½Ð¾Ð³Ð¾
  reading_time_minutes INTEGER, -- Ð²Ñ€ÐµÐ¼Ñ Ñ‡Ñ‚ÐµÐ½Ð¸Ñ Ð² Ð¼Ð¸Ð½ÑƒÑ‚Ð°Ñ…
  created_at TIMESTAMP,
  updated_at TIMESTAMP
)

-- Ð˜Ð½Ð´ÐµÐºÑÑ‹ Ð´Ð»Ñ Ð¾Ð¿Ñ‚Ð¸Ð¼Ð¸Ð·Ð°Ñ†Ð¸Ð¸
CREATE INDEX idx_books_author ON books(author);
CREATE INDEX idx_books_series ON books(series_id);
CREATE INDEX idx_books_genres ON books USING GIN(genres);
CREATE INDEX idx_books_tags ON books USING GIN(tags);
CREATE INDEX idx_series_author ON series(author);
CREATE INDEX idx_series_genres ON series USING GIN(genres);
CREATE INDEX idx_reading_history_user ON reading_history(user_id);
```

---

## ðŸš€ **8. Ð­Ð¢ÐÐŸÐ« Ð ÐÐ—Ð ÐÐ‘ÐžÐ¢ÐšÐ˜ (Ð Ð•ÐšÐžÐœÐ•ÐÐ”Ð£Ð•ÐœÐ«Ð•)**

### **MVP (ÐœÐ¸Ð½Ð¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ð¶Ð¸Ð·Ð½ÐµÑÐ¿Ð¾ÑÐ¾Ð±Ð½Ñ‹Ð¹ Ð¿Ñ€Ð¾Ð´ÑƒÐºÑ‚):**
1. âœ… Ð‘Ð°Ð·Ð¾Ð²Ð°Ñ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ
2. âœ… Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¸Ðµ ÐºÐ½Ð¸Ð³
3. âœ… ÐŸÑ€Ð¾ÑÑ‚Ð°Ñ Ñ‡Ð¸Ñ‚Ð°Ð»ÐºÐ° FB2
4. âœ… Ð‘Ð°Ð·Ð¾Ð²Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº

### **Ð­Ñ‚Ð°Ð¿ 2:**
1. âœ… Ð—Ð°ÐºÐ»Ð°Ð´ÐºÐ¸ Ð¸ Ð·Ð°Ð¼ÐµÑ‚ÐºÐ¸
2. âœ… Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ñ€ÐµÐ¹Ñ‚Ð¸Ð½Ð³Ð¾Ð²
3. âœ… Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¸ Ñ€Ð°ÑÑˆÐ¸Ñ€ÐµÐ½Ð½Ñ‹Ð¹ Ð¿Ð¾Ð¸ÑÐº

### **Ð­Ñ‚Ð°Ð¿ 3:**
1. âœ… Ð˜Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ñ Ñ Telegram
2. âœ… Ð¡Ð¸ÑÑ‚ÐµÐ¼Ð° Ñ€ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¹
3. âœ… ÐÐ²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ°Ñ ÑÐ¸Ð½Ñ…Ñ€Ð¾Ð½Ð¸Ð·Ð°Ñ†Ð¸Ñ

**Ð¡Ñ‚Ð°Ñ‚ÑƒÑ:** MVP Ð·Ð°Ð²ÐµÑ€ÑˆÑ‘Ð½. ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ð¼ Ðº Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸ÑŽ Ð·Ð°Ð´Ð°Ñ‡ Ð­Ñ‚Ð°Ð¿Ð° 2 Ð¸ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐµ Ðº Ð­Ñ‚Ð°Ð¿Ñƒ 3.

**Ð¢ÐµÐºÑƒÑ‰Ð¸Ð¹ Ñ„Ð¾ÐºÑƒÑ (ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ Ð·Ð°Ð´Ð°Ñ‡Ð¸):**
- Ð£Ð»ÑƒÑ‡ÑˆÐ¸Ñ‚ÑŒ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸ÑŽ Ñ„Ð¾Ñ€Ð¼ Ð½Ð° ÐºÐ»Ð¸ÐµÐ½Ñ‚Ðµ (email/password, ÑÐ¾Ð¾Ð±Ñ‰ÐµÐ½Ð¸Ñ Ð¾Ð± Ð¾ÑˆÐ¸Ð±ÐºÐ°Ñ…)
- Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ toast-ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ Ð¸ Ð¼ÐµÐ»ÐºÐ¸Ðµ Ð°Ð½Ð¸Ð¼Ð°Ñ†Ð¸Ð¸ (Ð¿ÐµÑ€ÐµÑ…Ð¾Ð´Ñ‹, ÑÐ¿Ð¸Ð½Ð½ÐµÑ€Ñ‹)
- Ð—Ð°Ð²ÐµÑ€ÑˆÐ¸Ñ‚ÑŒ Ð°Ð²Ñ‚Ð¾Ð¸ÑÐ¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ñ ESLint/TypeScript Ð² Ð¾ÑÑ‚Ð°Ð²ÑˆÐ¸Ñ…ÑÑ Ð¼Ð¾Ð´ÑƒÐ»ÑÑ… Ð¸ Ñ‚Ð¸Ð¿Ð¸Ð·Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ñ‹Ðµ Ð¼ÐµÑÑ‚Ð°
- ÐŸÐ¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²ÐºÐ° Ð°Ñ€Ñ…Ð¸Ñ‚ÐµÐºÑ‚ÑƒÑ€Ñ‹ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ Ñ Telegram (Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ñ‹Ð¹ Ð¿Ð»Ð°Ð½ Ð¸ Ð²Ñ‹Ð±Ð¾Ñ€ API)

ÐŸÐ»Ð°Ð½ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ð¹: Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ñ‚ÑŒ ÐºÐ»Ð¸ÐµÐ½Ñ‚ÑÐºÑƒÑŽ Ð²Ð°Ð»Ð¸Ð´Ð°Ñ†Ð¸ÑŽ Ð¸ ÑƒÐ²ÐµÐ´Ð¾Ð¼Ð»ÐµÐ½Ð¸Ñ â†’ Ð¿Ñ€Ð¾Ð¹Ñ‚Ð¸ÑÑŒ Ð¿Ð¾ ÐºÑ€Ð¸Ñ‚Ð¸Ñ‡Ð½Ñ‹Ð¼ ESLint-Ð¾ÑˆÐ¸Ð±ÐºÐ°Ð¼ â†’ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ñ‚ÑŒ Ð¼Ð¾Ð´ÑƒÐ»ÑŒ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸ Telegram.

---

## âš ï¸ **9. Ð’ÐžÐŸÐ ÐžÐ¡Ð« Ð”Ð›Ð¯ Ð£Ð¢ÐžÐ§ÐÐ•ÐÐ˜Ð¯**

### **ÐšÑ€Ð¸Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ Ð²Ð°Ð¶Ð½Ð¾ Ð¾Ð±ÑÑƒÐ´Ð¸Ñ‚ÑŒ:**
1. **Telegram API:** ÐšÐ°ÐºÐ¾Ð¹ Ð¿Ð¾Ð´Ñ…Ð¾Ð´ Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒ Ð´Ð»Ñ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸Ð¸?
   - Telegram Bot API
   - Web-scraping
   - Ð ÑƒÑ‡Ð½Ð°Ñ Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ñ Ð¿Ð¾ÑÐ»ÐµÐ´ÑƒÑŽÑ‰ÐµÐ¹ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ð·Ð°Ñ†Ð¸ÐµÐ¹

2. **ÐÐ´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ:** ÐšÐ°ÐºÐ¸Ðµ Ð¿Ñ€Ð°Ð²Ð° Ð½ÑƒÐ¶Ð½Ñ‹ Ð°Ð´Ð¼Ð¸Ð½Ð¸ÑÑ‚Ñ€Ð°Ñ‚Ð¾Ñ€Ð°Ð¼?
   - Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑÐ¼Ð¸
   - ÐœÐ¾Ð´ÐµÑ€Ð°Ñ†Ð¸Ñ ÐºÐ¾Ð½Ñ‚ÐµÐ½Ñ‚Ð°  
   - Ð ÑƒÑ‡Ð½Ð¾Ðµ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ ÐºÐ½Ð¸Ð³
   - Ð£Ð¿Ñ€Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Ð¸Ð½Ñ‚ÐµÐ³Ñ€Ð°Ñ†Ð¸ÐµÐ¹ Ñ Telegram

3. **ÐžÐ±Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ° ÑÐµÑ€Ð¸Ð¹:** ÐšÐ°Ðº Ð¾Ð±Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ ÑÐ»ÑƒÑ‡Ð°Ð¸, ÐºÐ¾Ð³Ð´Ð°:
   - Ð’ ÑÐµÑ€Ð¸Ð¸ Ð´Ð¾Ð±Ð°Ð²Ð»ÑÑŽÑ‚ÑÑ Ð½Ð¾Ð²Ñ‹Ðµ ÐºÐ½Ð¸Ð³Ð¸
   - Ð˜Ð·Ð¼ÐµÐ½ÑÑŽÑ‚ÑÑ Ð¼ÐµÑ‚Ð°Ð´Ð°Ð½Ð½Ñ‹Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÑŽÑ‰Ð¸Ñ… ÑÐµÑ€Ð¸Ð¹
   - Ð¤Ð°Ð¹Ð»Ñ‹ Ð½Ðµ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÑŽÑ‚ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸ÑŽ Ð¸Ð· Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ ÐºÐ°Ð½Ð°Ð»Ð°

---

## âœ… **10. ÐšÐ Ð˜Ð¢Ð•Ð Ð˜Ð˜ Ð“ÐžÐ¢ÐžÐ’ÐÐžÐ¡Ð¢Ð˜**

### **Ð¤ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð°Ð»ÑŒÐ½Ñ‹Ðµ:**
- [ ] Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ð¸ Ð°ÑƒÑ‚ÐµÐ½Ñ‚Ð¸Ñ„Ð¸ÐºÐ°Ñ†Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚
- [ ] ÐšÐ½Ð¸Ð³Ð¸ Ð·Ð°Ð³Ñ€ÑƒÐ¶Ð°ÑŽÑ‚ÑÑ Ð¸ Ð¾Ñ‚Ð¾Ð±Ñ€Ð°Ð¶Ð°ÑŽÑ‚ÑÑ
- [ ] Ð§Ð¸Ñ‚Ð°Ð»ÐºÐ° FB2 Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¾Ð½Ð¸Ñ€ÑƒÐµÑ‚
- [ ] ÐŸÐ¾Ð¸ÑÐº Ð¸ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€Ð°Ñ†Ð¸Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‚
- [ ] ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒÑÐºÐ¸Ðµ Ñ„ÑƒÐ½ÐºÑ†Ð¸Ð¸ (Ð·Ð°ÐºÐ»Ð°Ð´ÐºÐ¸, Ð¸Ð·Ð±Ñ€Ð°Ð½Ð½Ð¾Ðµ) Ñ€ÐµÐ°Ð»Ð¸Ð·Ð¾Ð²Ð°Ð½Ñ‹

### **Ð¢ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¸Ðµ:**
- [ ] ÐÐ´Ð°Ð¿Ñ‚Ð¸Ð²Ð½Ñ‹Ð¹ Ð´Ð¸Ð·Ð°Ð¹Ð½ Ð½Ð° Ð²ÑÐµÑ… ÑƒÑÑ‚Ñ€Ð¾Ð¹ÑÑ‚Ð²Ð°Ñ…
- [ ] Ð¢ÐµÐ¼Ð½Ð°Ñ/ÑÐ²ÐµÑ‚Ð»Ð°Ñ Ñ‚ÐµÐ¼Ð° Ð¿ÐµÑ€ÐµÐºÐ»ÑŽÑ‡Ð°ÐµÑ‚ÑÑ
- [ ] ÐŸÑ€Ð¾Ð¸Ð·Ð²Ð¾Ð´Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ð¾ÑÑ‚ÑŒ ÑÐ¾Ð¾Ñ‚Ð²ÐµÑ‚ÑÑ‚Ð²ÑƒÐµÑ‚ Ñ‚Ñ€ÐµÐ±Ð¾Ð²Ð°Ð½Ð¸ÑÐ¼
- [ ] Ð‘ÐµÐ·Ð¾Ð¿Ð°ÑÐ½Ð¾ÑÑ‚ÑŒ Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð¾Ð±ÐµÑÐ¿ÐµÑ‡ÐµÐ½Ð°

---

**Ð­Ñ‚Ð¾ Ñ‚ÐµÑ…Ð½Ð¸Ñ‡ÐµÑÐºÐ¾Ðµ Ð·Ð°Ð´Ð°Ð½Ð¸Ðµ Ð³Ð¾Ñ‚Ð¾Ð²Ð¾ Ð´Ð»Ñ Ð½Ð°Ñ‡Ð°Ð»Ð° Ñ€Ð°Ð·Ñ€Ð°Ð±Ð¾Ñ‚ÐºÐ¸. ÐÑƒÐ¶Ð½Ñ‹ Ð»Ð¸ Ð´Ð¾Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ ÑƒÑ‚Ð¾Ñ‡Ð½ÐµÐ½Ð¸Ñ Ð¿Ð¾ ÐºÐ°ÐºÐ¸Ð¼-Ð»Ð¸Ð±Ð¾ Ð¿ÑƒÐ½ÐºÑ‚Ð°Ð¼?**

# Product Requirements Document: File Upload and Attachment Algorithm

## Overview
This document describes the algorithm for uploading and attaching files from Telegram to books in the database.

## File Processing Algorithm

### 1. File Already Exists in Bucket
If a file already exists in the bucket:
- Skip the file processing
- Do not re-upload or re-process

### 2. File Not in Bucket
If a file is not present in the bucket:
1. Extract metadata (author and title) from filename
2. Search for existing book in database using relevance algorithm:
   - Split author and title into words (filter words shorter than 3 characters)
   - Search for books where:
     - Each word from the title is found in the book's title (using ilike)
     - Each word from the author is found in the book's author (using ilike)
   - Require high degree of relevance (both author(s) and title must have significant matches)
3. If a highly relevant book is found:
   - Download file from Telegram
   - Upload file to Supabase Storage bucket
   - Attach file to the existing book record
4. If no book is found or relevance is low:
   - Skip the file
   - Do not create new book records automatically

### 3. Relevance Algorithm Details
The relevance algorithm works as follows:
1. Normalize text (lowercase, remove punctuation)
2. Split author and title into words (filter words shorter than 3 characters)
3. Search database for books where:
   - Each word from the search terms is found in either the book's title or author (using ilike)
4. Calculate relevance score based on the number of matching words between search terms and book metadata
5. Sort results by relevance score in descending order
6. Consider match successful only if relevance score is 2 or higher (at least 2 matching words)
7. Attach file only to the highest scoring match that meets the threshold

### 4. File Naming Convention
Files in the bucket are stored with the following naming convention:
- Format: `MessageID.Extension`
- Example: `4379.zip`

When downloaded by users, files are renamed to:
- Format: `Author - Title.Extension`
- Example: `Ð’Ð¸Ð»Ð¼Ð° ÐšÐ°Ð´Ð»ÐµÑ‡ÐºÐ¾Ð²Ð° - ÐœÐ¸Ñ†ÐµÐ»Ð¸Ð¹.zip`

## Implementation Notes
- Files must be uploaded directly to the root of the 'books' bucket in Supabase storage
- No nested folders should be created
- Only 'fb2' and 'zip' file formats are permitted
- Book titles must never be modified during parsing or synchronization

## Test Cases
The following test cases demonstrate the algorithm behavior:

1. **Book exists with high relevance**:
   - Search: "Ð­Ð²ÐµÑ€Ð½ÐµÑÑ" by "Ð™ÐµÐ½ ÐœÐ°ÐºÐ´Ð¾Ð½Ð°Ð»ÑŒÐ´"
   - Result: Found book "Ñ†Ð¸ÐºÐ» Ð­Ð²ÐµÑ€Ð½ÐµÑÑ" by "Ð™ÐµÐ½ ÐœÐ°ÐºÐ´Ð¾Ð½Ð°Ð»ÑŒÐ´"
   - Action: File will be attached to existing book

2. **Book does not exist**:
   - Search: "ÐœÐ¸Ñ†ÐµÐ»Ð¸Ð¹" by "Ð’Ð¸Ð»Ð¼Ð° ÐšÐ°Ð´Ð»ÐµÑ‡ÐºÐ¾Ð²Ð°"
   - Result: No matching books found
   - Action: File will be skipped

3. **Insufficient search terms**:
   - Search: "A" by "B" (words shorter than 3 characters)
   - Result: Search skipped due to insufficient terms
   - Action: File will be skipped
